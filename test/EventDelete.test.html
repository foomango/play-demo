#{fixture delete:'all', load:'data-test.yml' /}

#{selenium}

    // Open the home page, and check that no error occured
    open('/')
    assertNotTitle('Application error')

    // Delete Play! framework event
    assertTextPresent('Play! framework, a java web framework for non-purists')
    click('xpath=//a[text()="Play! framework, a java web framework for non-purists"]/../..//a/img/..')
    waitForTextNotPresent('Play! framework, un framework hecho en java.. para herejes')

    // Search Engines
    assertTextPresent('Search Engines')
    click('xpath=//a[text()="Search Engines"]/../..//a/img/..')
    waitForTextNotPresent('Search Engines')


    // Delete Drools and jBPM5
    assertTextPresent('Drools and jBPM5')
    click('xpath=//a[text()="Drools and jBPM5"]/../..//a/img/..')
    waitForTextNotPresent('Drools and jBPM5')
    
    // Delete Scale the Everest with Scala
    assertTextPresent('Scale the Everest with Scala')
    click('xpath=//a[text()="Scale the Everest with Scala"]/../..//a/img/..')
    waitForTextNotPresent('Scale the Everest with Scala')
    
    // delete the next 3 events
	// click('xpath=//a/img/..')

    open('/')
    assertNotTitle('Application error')

    assertTextPresent('No events in sight...')

    clickAndWait('xpath=//a[text()="load from yaml file"]')
    
    assertTextNotPresent('No events in sight...')
    
    assertTextPresent('Play! framework, a java web framework for non-purists')
    assertTextPresent('Search Engines')
    assertTextPresent('Drools and jBPM5')
    assertTextPresent('Scale the Everest with Scala')
#{/selenium}